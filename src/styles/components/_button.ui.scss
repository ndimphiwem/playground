/** @COMPONENT **/

/** Button Sizes **/
$button-sizes: (
  sm: 7px 12px,
  md: 14px 14px,
  lg:  14px 24px,
  xtra: 16px 30px
) !default;

 /** Button Block  **/
.c-btn {
  $this: &;
  @extend %button;

  @mixin make-outline(
    $color, 
    $active-background: $color, 
    $active-border: $color
  ) {
    color: $color;
    background-color: transparent;
    background-image: none;
    border-color: $color;

    @include hover {
      color: $white-color;
      background-color: $active-background;
      border-color: $active-border;
    }
 }

  /** Button Elements  **/
  &__default {
    background-color: $default-color;
    @include hover {
      border-color: $default-color;
      background-color: $white-color;
      color: $default-color;
    }
  }

  &__primary {
    background-color: $btn-primary;

    &--#{$theme} {
      background-color: $btn-primary;     
    }

    @include hover {
      border-color: $btn-primary;
      background-color: $white-color;
      color: $btn-primary;
    }
  }

  &__secondary {
    background-color: $secondary-color;
    @include hover {
      border-color: $secondary-color;
      background-color: $white-color;
      color: $secondary-color;
    }

    &--outline {
      @include make-outline(
       $secondary-color, 
       $active-background: $secondary-color, 
       $active-border: $secondary-color
      );
    }
  }

  &__success {
    background-color: $success-color;
    @include hover {
      border-color: $success-color;
      background-color: $white-color;
      color: $success-color;
    }
  }

  &__warning {
    background-color: $warning-color;
    @include hover {
      border-color: $warning-color;
      background-color: $white-color;
      color: $warning-color;
    }
    &--outline {
      @include make-outline(
       $warning-color, 
       $active-background: $warning-color, 
       $active-border: $warning-color
      );
    }
  }

  &__danger {
    background-color: $danger-color;
    @include hover {
      border-color: $danger-color;
      background-color: $white-color;
      color: $danger-color;
    }
  }

  &__link {
    $sty: &;
    background: none; 
    border: 0;
    text-decoration: none;

    @include hover {
      color: $body-color;
      text-decoration: underline;
    }

    @include focus {
      color: $white-color;
    }

    /** Inheriting From c-btn__link 
    * Then Modifying the hover state
    **/
    &--#{$theme} {
      @extend #{$this}__link;
      @include hover {
        color: $btn-primary; // This needs to come from theme vars
      }     
    }
  }

  &__tab {
    width: 100%;
    background: none; 
    color: $white-color;
    text-decoration: none;
    background-color: transparent;
    border: 0;

    &--active {
      background: rgba($btn-primary, 0.5); 
      border-bottom: 5px solid $btn-primary;
    }

    @include hover {
      border-bottom: 5px solid $btn-primary;
    }
  }

  &__input {
    top: -30px;
    float: right;
    padding: 3px 16px;
    margin-right: 0.2em;

    &--absolute {
      position: absolute;
      right: 3px;
      top: 3px;
      height: 27px;
      padding: 0px 5px;
    }
  }

  /** FIXME: Look at how to better implement this **/
  &__skewed {
    position: relative;
    background-color: transparent;
    padding: 7px 20px;
    text-align: center;
    color: $white-color;
    margin-left: 30px;
    z-index: 2;
    cursor: pointer;

    &:before, &:after {
      content: "";
      position: absolute;
      background-color: $primary-color;
      border: $border-radii solid $primary-color;
      display: block;
      transition: $b-animation__duration $b-animation__timming;
      transition-property: background-color, color;
      z-index: -1;
    }

    &:before {
      border-width: 2px 0 2px 2px;
      @include position(0px);
      transform: skew(15deg);
    }

    &:after {
      border-width: 2px 2px 2px 0;
      @include position(0px, -9px, 0px, auto);
      width: 20px;
    }

    &:hover {
      color: $primary-color;
      &:before, &:after {
        background-color: $white-color;
      }
    }
  }

  /** Button Modifiers  **/
  &--expanded {
    display: block;
    width: 100%;
  }

  &--full {
    @extend #{$this}--expanded;
    clear: both;
  }

  &--no-padding {
    padding: 0;
  }

  &--no-radius {
    border-radius: 0;
  }

  &--opposite {
    $b-bw: 2px 0 2px 2px;
    $a-bw: 2px 2px 2px 0;

    &:before {
      border-width: $b-bw;
      @include position(0px, auto, 0px, -9px);
      width: 20px;
      transform: none;
    }

    &:after {
      border-width: $a-bw;
      @include position(0px);
      width: auto;
      transform: skew(-15deg);
    }
  }

  &--sm {
    padding: map-get($button-sizes, sm);
    font-size: text-scale('sm');
  }

  &--md {
    padding: map-get($button-sizes, md);
    font-size: text-scale('md');
  }

  &--lg {
    padding: map-get($button-sizes, lg);
    font-size: text-scale('lg');

    @include --breakpoint(tablet) {
      padding: map-get($button-sizes, xtra);
      font-size: text-scale('xl');
    }
  }

  &--squared {
    border-radius: 0px;
  }

  &--clear {
    border: 0;
    background: none;
    border-radius: 0;
    cursor: pointer;
    padding: 7px 7px 0 0;
  }
}
